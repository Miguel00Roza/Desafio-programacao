<script>


let alunos = ["João", "Maria", "Pedro", "Ana", "Carlos"];
let notas = [];

// ----------------------------------------------
// ----------------------------------------------
function validarNota(nota) {
    while (nota < 0 || nota > 10 || isNaN(nota)) {
        nota = Number(prompt("Nota inválida!(Tinha que ser o jumento do usuario msm) <br> Digite uma nota entre 0 e 10:"));
    }
    return nota;
}

// ----------------------------------------------
// ----------------------------------------------
function cadastrarNotas() {
    notas = []; // limpa antes de registrar
    for (let i = 0; i < alunos.length; i++) {
        let notaAluno = [];
        for (let b = 0; b < 4; b++) {
            let n = Number(prompt(`Digite a nota ${b + 1} do aluno ${alunos[i]}:`));
            n = validarNota(n);
            notaAluno.push(n);
        }
        notas.push(notaAluno);
    }
}

// ----------------------------------------------
// ----------------------------------------------
function calcularMedia(arrayNotas) {
    let soma = 0;
    for (let i = 0; i < arrayNotas.length; i++) {
        soma += arrayNotas[i];
    }
    return soma / arrayNotas.length;
}

// ----------------------------------------------
// ----------------------------------------------
function classificarDesempenho(media) {
    if (media >= 9) {
        return "Excelente";
    } else if (media >= 7) {
        return "Bom";
    } else if (media >= 5) {
        return "Regular";
    } else {
        return "Insuficiente";
    }
}

// ----------------------------------------------
// ----------------------------------------------
function gerarRelatorio() {
    document.write("===== RELATÓRIO DE NOTAS =====");

    for (let i = 0; i < alunos.length; i++) {
        let media = calcularMedia(notas[i]);
        let classif = classificarDesempenho(media);

        document.write(`
Aluno: ${alunos[i]}
Notas: ${notas[i].join(", ")}
Média: ${media.toFixed(2)}
Classificação: ${classif}
------------------------------`);
    }
}

// =====================================================
// =====================================================
function removerAluno(nome) {
    let index = alunos.indexOf(nome);

    if (index === -1) {
        alert("Aluno não encontrado!");
        return;
    }

    alunos.splice(index, 1);
    notas.splice(index, 1);

    alert(`Aluno ${nome} removido com sucesso!`);
}

// =====================================================
// =====================================================
function menu() {
    let opcao;

    do {
        opcao = Number(prompt(
`SISTEMA DE NOTAS
1 - Cadastrar notas
2 - Gerar relatório
3 - Remover aluno
4 - Listar alunos
0 - Sair
escolha uma opção:`));

        if (opcao === 1) {
            cadastrarNotas();

        } else if (opcao === 2) {
            if (notas.length === 0) {
                alert("cadastre as notas primeiro!");
            } else {
                gerarRelatorio();
            }

        } else if (opcao === 3) {
            let nome = prompt("digita o nome do aluno pra tirar:");
            removerAluno(nome);

        } else if (opcao === 4) {
            alert("alunos cadastrados:", alunos);

        } else if (opcao === 0) {
            alert("tu saiu");

        } else {
            alert("opção inválida!");
        }

    } while (opcao !== 0);
}

// inicia o sistema
menu();
</script>
